<!DOCTYPE html>
<html>
<head>
    <title>时间轴API测试</title>
</head>
<body>
    <h1>时间轴API测试</h1>
    <button onclick="testGet()">测试获取时间轴</button>
    <button onclick="testPost()">测试创建时间轴事件</button>
    <div id="result"></div>

    <script>
        async function testGet() {
            try {
                const response = await fetch('/api/timeline');
                const data = await response.json();
                document.getElementById('result').innerHTML = '<h2>获取成功:</h2><pre>' + JSON.stringify(data, null, 2) + '</pre>';
            } catch (error) {
                document.getElementById('result').innerHTML = '<h2>获取失败:</h2><pre>' + error.message + '</pre>';
            }
        }

        async function testPost() {
            try {
                const testData = {
                    title: '测试事件',
                    description: '这是一个测试事件',
                    date: '2024-01-01',
                    location: '测试地点',
                    category: '日常',
                    images: []
                };
                
                const response = await fetch('/api/timeline', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(testData)
                });
                
                const data = await response.json();
                document.getElementById('result').innerHTML = '<h2>创建成功:</h2><pre>' + JSON.stringify(data, null, 2) + '</pre>';
            } catch (error) {
                document.getElementById('result').innerHTML = '<h2>创建失败:</h2><pre>' + error.message + '</pre>';
            }
        }
    </script>
</body>
</html>